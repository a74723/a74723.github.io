<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>目前人氣漫畫 Top 10</title>
  <style>
    :root{--bg:#0f1724;--card:#061219;--accent:#ff7a59;--muted:#9aa7b8}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, 'Noto Sans TC', system-ui, -apple-system, Roboto, 'PingFang TC', sans-serif;background:linear-gradient(180deg,#071022 0%, #07172a 100%);color:#eaf4ff}
    .wrap{max-width:1100px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{margin:0;font-size:20px}
    .sub{color:var(--muted);font-size:13px}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:18px}
    @media(min-width:880px){.grid{grid-template-columns:repeat(5,1fr)}}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:8px;min-height:260px}
    .cover{width:100%;aspect-ratio:2/3;border-radius:8px;object-fit:cover;background:#072032}
    .meta{display:flex;flex-direction:column;gap:4px}
    .title{font-weight:700}
    .rank{position:absolute;background:linear-gradient(90deg,var(--accent),#ffb388);color:#071022;padding:6px 8px;border-radius:8px;font-weight:800}
    .card-wrap{position:relative}
    .info{font-size:13px;color:var(--muted)}
    .controls{display:flex;gap:8px;margin-top:12px}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:inherit;cursor:pointer}
    .loader{display:block;margin:40px auto;color:var(--muted)}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>目前人氣漫畫 Top 10</h1>
        <div class="sub">資料來源：MyAnimeList（透過 Jikan API）</div>
      </div>
      <div class="controls">
        <button class="btn" id="refresh">重新取得</button>
        <select id="type" class="btn">
          <option value="manga">Top Manga</option>
          <option value="novel">Top Novels</option>
        </select>
      </div>
    </header>

    <div id="grid" class="grid" aria-live="polite">
      <div class="loader" id="loader">載入中…</div>
    </div>

    <footer>提示：此頁面使用第三方公開 API（Jikan）抓取 MyAnimeList 的熱門排行，若 API 無回應請稍候或改用代理。若要將資料改為你自己的排名來源，可替換 fetch 的 URL。</footer>
  </div>

  <script>
    const grid = document.getElementById('grid');
    const loader = document.getElementById('loader');
    const refresh = document.getElementById('refresh');
    const typeSelect = document.getElementById('type');

    async function fetchTop(type='manga', limit=10){
      loader.style.display='block';
      grid.innerHTML='';
      try{
        // Jikan v4 Top endpoint
        const res = await fetch(`https://api.jikan.moe/v4/top/${type}?limit=${limit}`);
        if(!res.ok) throw new Error('API 回傳錯誤 ' + res.status);
        const data = await res.json();
        render(data.data || []);
      }catch(err){
        console.error(err);
        grid.innerHTML = `<div style="grid-column:1/-1;color:#ffb4b4;padding:16px;border-radius:8px;background:rgba(255,0,0,0.03)">載入失敗：${err.message}</div>`;
      }finally{
        loader.style.display='none';
      }
    }

    function render(items){
      if(!items.length){
        grid.innerHTML = '<div class="info">找不到資料。</div>';
        return;
      }
      grid.innerHTML = items.map((it,idx)=>{
        const title = it.title || it.title_english || '未命名';
        const img = (it.images && it.images.jpg && it.images.jpg.image_url) ? it.images.jpg.image_url : '';
        const score = it.score ?? '—';
        const url = it.url || '#';
        const rank = it.rank ?? (idx+1);
        const synopsis = it.synopsis ? it.synopsis.substring(0,120) + (it.synopsis.length>120? '…':'') : '';
        return `
          <div class="card">
            <div class="card-wrap">
              <img class="cover" src="${img}" alt="${escapeHtml(title)} 封面" onerror="this.style.opacity=0.7;this.style.objectFit='contain'">
              <div class="rank">#${rank}</div>
            </div>
            <div class="meta">
              <div class="title">${escapeHtml(title)}</div>
              <div class="info">評分：${score} · ${it.type || ''}</div>
              <div class="info">${escapeHtml(synopsis)}</div>
              <div style="margin-top:auto"><a href="${url}" target="_blank" rel="noopener" class="btn" style="text-decoration:none">在 MyAnimeList 查看</a></div>
            </div>
          </div>
        `;
      }).join('');
    }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, s=> ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s]));
    }

    refresh.addEventListener('click', ()=> fetchTop(typeSelect.value, 10));

    // initial
    fetchTop('manga', 10);
  </script>
</body>
</html>

    .character-card{position:relative;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:12px;padding:14px;overflow:hidden}
    .character-art{height:360px;background-image:linear-gradient(to bottom right, rgba(139,92,246,0.18), rgba(6,182,212,0.12));border-radius:8px;display:flex;align-items:end;padding:16px}
    .character-art img{width:100%;height:100%;object-fit:cover;border-radius:8px}
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:10px}

    /* Gallery */
    .gallery{margin-top:26px;display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}
    .card{background:var(--card);padding:12px;border-radius:12px;transition:transform .22s ease, box-shadow .22s ease}
    .card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.6)}
    .thumb{height:160px;border-radius:8px;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .title{font-weight:700;margin-top:10px}
    .sub{font-size:13px;color:var(--muted);margin-top:6px}

    /* Episodes */
    .episodes{margin-top:28px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);padding:16px;border-radius:12px}
    .episode{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px}
    .episode + .episode{margin-top:8px}
    .ep-no{min-width:44px;height:44px;display:flex;align-items:center;justify-content:center;border-radius:10px;background:rgba(255,255,255,0.04);font-weight:700}

    /* footer */
    footer{margin-top:30px;padding:20px 0;text-align:center;color:var(--muted)}

    /* Modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;padding:20px}
    .modal.open{display:flex}
    .modal-card{width:900px;max-width:100%;background:linear-gradient(180deg,#071024, #07142a);padding:18px;border-radius:12px}

    @media (max-width:900px){
      .hero{grid-template-columns:1fr}
      .character-art{height:260px}
    }
  </style>
</head>
<body>
  <header class="container">
    <div class="brand">
      <div class="logo">夢</div>
      <div>
        <div style="font-weight:800;letter-spacing:0.6px">夢幻動漫圖鑑</div>
        <div style="font-size:13px;color:var(--muted);margin-top:4px">精選角色、插畫與最新話</div>
      </div>
    </div>
    <nav>
      <a href="#gallery">圖鑑</a>
      <a href="#episodes">最新話</a>
      <a href="#about">關於</a>
      <a class="btn btn-ghost" id="openTheme">主題</a>
    </nav>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hero-text">
        <h1>沉浸在色彩與故事之中 — 你的次元入口</h1>
        <p>探索我們精選的原創角色與插畫，查看最新連載章節，或建立你的收藏清單。精緻的畫面、動人的配色，就是現在。</p>
        <div class="btn-row">
          <button class="btn btn-primary" onclick="openModal()">觀看特色角色</button>
          <a class="btn btn-ghost" href="#gallery">瀏覽圖鑑</a>
        </div>

        <div style="margin-top:18px;color:var(--muted);font-size:13px">推薦：收藏你喜歡的角色，並開啟每週新話提醒。</div>
      </div>

      <aside class="character-card">
        <div class="character-art" id="heroArt">
          <!-- 這裡使用示意圖連結，可替換為實際資源 -->
          <img src="https://images.unsplash.com/photo-1543872084-c7bd3822856f?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=12345" alt="特色角色插畫">
        </div>
        <div class="meta">
          <div>
            <div style="font-weight:800">白夜 琴音</div>
            <div style="font-size:13px;color:var(--muted)">元素：星辰 • 聲音使者</div>
          </div>
          <div style="text-align:right">
            <div style="font-weight:800">評分 4.9</div>
            <div style="font-size:13px;color:var(--muted)">人氣 23.8k</div>
          </div>
        </div>
      </aside>
    </section>

    <section id="gallery">
      <h2 style="margin-top:28px">角色圖鑑</h2>
      <p style="color:var(--muted);margin-top:6px">點擊任一卡片以查看放大與詳細資訊。</p>

      <div class="gallery">
        <!-- 多個卡片示例，可複製增加 -->
        <div class="card" onclick="openCard(event, '白夜 琴音', '元素：星辰\n故事：失落的聲音使者，尋找記憶碎片。')">
          <div class="thumb"><img src="https://images.unsplash.com/photo-1544986581-efac024faf62?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=abcde" alt="角色1"></div>
          <div class="title">白夜 琴音</div>
          <div class="sub">聲音使者 • 星辰之力</div>
        </div>

        <div class="card" onclick="openCard(event, '青木 霧葉', '元素：風\n故事：勇敢的旅者，追尋天空的祕密。')">
          <div class="thumb"><img src="https://images.unsplash.com/photo-1527980965255-d3b416303d12?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=efghi" alt="角色2"></div>
          <div class="title">青木 霧葉</div>
          <div class="sub">風之旅者</div>
        </div>

        <div class="card" onclick="openCard(event, '紅蓮 鋒', '元素：火\n故事：被流放的劍士，用火焰守護弱者。')">
          <div class="thumb"><img src="https://images.unsplash.com/photo-1505685296765-3a2736de412f?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=jklmn" alt="角色3"></div>
          <div class="title">紅蓮 鋒</div>
          <div class="sub">流放劍士</div>
        </div>

        <div class="card" onclick="openCard(event, '月影 寧', '元素：影\n故事：夜行者，守夜的暗影精靈。')">
          <div class="thumb"><img src="https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=opqrs" alt="角色4"></div>
          <div class="title">月影 寧</div>
          <div class="sub">暗影精靈</div>
        </div>

        <!-- 更多卡片... -->
      </div>
    </section>

    <section id="episodes">
      <h2 style="margin-top:28px">最新連載</h2>
      <div class="episodes">
        <div class="episode">
          <div class="ep-no">S1E12</div>
          <div>
            <div style="font-weight:700">第12話：夜語者的回音</div>
            <div style="font-size:13px;color:var(--muted)">2025-11-12 • 更新：漫畫 / 節奏派</div>
          </div>
        </div>

        <div class="episode">
          <div class="ep-no">S1E11</div>
          <div>
            <div style="font-weight:700">第11話：破碎的旋律</div>
            <div style="font-size:13px;color:var(--muted)">2025-11-05 • 更新：漫畫 / 交響組</div>
          </div>
        </div>

        <div class="episode">
          <div class="ep-no">短篇</div>
          <div>
            <div style="font-weight:700">番外：夢中飲茶</div>
            <div style="font-size:13px;color:var(--muted)">2025-10-28 • 作者特別篇</div>
          </div>
        </div>
      </div>
    </section>

    <section id="about">
      <h2 style="margin-top:28px">關於本站</h2>
      <p style="color:var(--muted)">這是一個示範性的動漫風格網頁模板，適合用來展示角色、作品與連載資訊。你可以替換圖片、文字與配色，或加入會員系統、收藏功能與留言互動。</p>
    </section>

    <footer>
      © 2025 夢幻動漫圖鑑 • 範例頁面
    </footer>
  </main>

  <!-- Modal for character detail -->
  <div class="modal" id="modal">
    <div class="modal-card">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <div style="font-weight:800;font-size:18px" id="modalTitle">角色名稱</div>
        <button onclick="closeModal()" class="btn btn-ghost">關閉</button>
      </div>
      <div style="display:grid;grid-template-columns:1fr 320px;gap:16px">
        <div>
          <img id="modalImg" src="" alt="art" style="width:100%;height:360px;object-fit:cover;border-radius:8px" />
        </div>
        <div>
          <div style="font-weight:700;margin-bottom:8px">簡介</div>
          <pre id="modalDesc" style="white-space:pre-wrap;color:var(--muted);font-family:inherit;margin:0"></pre>
          <div style="margin-top:16px">
            <button class="btn btn-primary" onclick="favorite()">收藏角色</button>
            <button class="btn btn-ghost" style="margin-left:8px">分享</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function openModal(){
      document.getElementById('modal').classList.add('open');
      // 預設顯示英雄角色
      document.getElementById('modalTitle').innerText = '白夜 琴音';
      document.getElementById('modalImg').src = document.querySelector('#heroArt img').src;
      document.getElementById('modalDesc').innerText = '元素：星辰\n故事：失落的聲音使者，尋找記憶碎片。\n技能：回音之歌、月光庇護';
    }
    function closeModal(){document.getElementById('modal').classList.remove('open');}

    function openCard(e, name, desc){
      openModal();
      document.getElementById('modalTitle').innerText = name;
      // 嘗試抓取卡片內的圖，如果無法則保留 hero 圖
      let img = e.currentTarget.querySelector('img');
      if(img) document.getElementById('modalImg').src = img.src;
      document.getElementById('modalDesc').innerText = desc;
    }

    function favorite(){
      alert('已加入收藏 ✨');
    }

    // 主題切換示例（簡單）
    document.getElementById('openTheme').addEventListener('click', ()=>{
      if(document.documentElement.style.getPropertyValue('--bg') === '#0f1020'){
        document.documentElement.style.setProperty('--bg', '#f7f9fc');
        document.documentElement.style.setProperty('--card', '#ffffffaa');
        document.documentElement.style.setProperty('--glass', 'rgba(0,0,0,0.04)');
        document.documentElement.style.setProperty('--muted', '#374151');
        document.body.style.color = '#071024';
      } else {
        document.documentElement.style.setProperty('--bg', '#0f1020');
        document.documentElement.style.setProperty('--card', '#0f1724aa');
        document.documentElement.style.setProperty('--glass', 'rgba(255,255,255,0.06)');
        document.documentElement.style.setProperty('--muted', '#bfc8d6');
        document.body.style.color = '#e6eef8';
      }
    });

    // 點擊 modal 外側關閉
    document.getElementById('modal').addEventListener('click', (e)=>{
      if(e.target.id === 'modal') closeModal();
    });
  </script>
</body>
</html>

